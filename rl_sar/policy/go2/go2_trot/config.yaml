# Copyright (c) 2024-2025 Ziqi Fan
# SPDX-License-Identifier: Apache-2.0

go2/go2_trot:
  model_name: "policy_1.pt"
  num_observations: 47
  observations: ["trot_phase", "commands", "ang_vel", "base_rpy", "dof_pos", "dof_vel", "actions"]
  observations_history: [9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
  observations_history_priority: "time"
  clip_obs: 100.0
  clip_actions_lower: [-100, -100, -100,  # 策略动作裁剪下界，保持与训练时 clamp 一致
                       -100, -100, -100,
                       -100, -100, -100,
                       -100, -100, -100]
  clip_actions_upper: [100, 100, 100,  # 策略动作裁剪上界
                       100, 100, 100,
                       100, 100, 100,
                       100, 100, 100]
  rl_kp: [20.0, 20.0, 20.0,  # RL 控制 PD-P 增益，与 GO2_Trot 训练配置一致
          20.0, 20.0, 20.0,
          20.0, 20.0, 20.0,
          20.0, 20.0, 20.0]
  rl_kd: [0.5, 0.5, 0.5,  # RL 控制 PD-D 增益
          0.5, 0.5, 0.5,
          0.5, 0.5, 0.5,
          0.5, 0.5, 0.5]
  fixed_kp: [60, 60, 60,  # 固定模式（起身/趴下）P 增益，复用默认参数
             60, 60, 60,
             60, 60, 60,
             60, 60, 60]
  fixed_kd: [5, 5, 5,  # 固定模式 D 增益
             5, 5, 5,
             5, 5, 5,
             5, 5, 5]
  num_of_dofs: 12
  action_scale: [0.25, 0.25, 0.25,  # 动作缩放，target = scale * action + default
                 0.25, 0.25, 0.25,
                 0.25, 0.25, 0.25,
                 0.25, 0.25, 0.25]
  wheel_indices: []
  lin_vel_scale: 2.0  # 线速度观测缩放
  ang_vel_scale: 0.25  # 角速度观测缩放
  dof_pos_scale: 1.0  # 关节位置缩放
  dof_vel_scale: 0.05  # 关节速度缩放
  commands_scale: [2.0, 2.0, 0.25]  # 指令缩放（前进、侧移、偏航）
  torque_limits: [45.0, 45.0, 45.0,  # 力矩限制，跟随 MuJoCo 部署脚本
                  45.0, 45.0, 45.0,
                  45.0, 45.0, 45.0,
                  45.0, 45.0, 45.0]
  default_dof_pos: [ 0.0000, 0.8000, -1.5000,  # 默认关节姿态（FL、FR、RL、RR）
                    -0.0000, 0.8000, -1.5000,
                     0.0000, 0.8000, -1.5000,
                    -0.0000, 0.8000, -1.5000]
  joint_mapping: [3, 4, 5, 0, 1, 2, 9, 10, 11, 6, 7, 8]  # 策略顺序→电机顺序映射
  gait_cycle_time: 0.5  # 步态周期（秒）
